(()=>{"use strict";var n={118:(n,t,e)=>{e.d(t,{A:()=>h});var r=e(601),o=e.n(r),i=e(314),a=e.n(i),s=e(417),c=e.n(s),l=new URL(e(798),e.b),u=new URL(e(97),e.b),d=a()(o()),p=c()(l),f=c()(u);d.push([n.id,`/* General reset */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n\nbody, h1, h2, .status-message, button, input {\n    font-family: 'Roboto', sans-serif; /* Apply Roboto to general text and UI elements */\n}\nbody {\n    font-family: 'Roboto', sans-serif;\n    background-image: url(${p});\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n}\nheader h1 {\n    text-transform: uppercase;\n    font-size: 4rem; /* Adjust as needed */\n    font-weight: 800;\n    margin-bottom: 20px;\n   color: #fff  ;\n}\n\n\n#start-screen {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    /* Existing styles */\n    height: 100vh;\n    width: 100%;\n    text-align: center;\n    /* Add a background image */\n    background-image: url(${f});\n    background-size: cover;\n    background-position: center;\n    padding: 50px;\n}\n\n/* Style for the input field */\n#player-name-input   {\n    font-size: 1.2em;\n    padding: 10px;\n    margin: 10px 0;\n    width: 80%;\n    max-width: 300px;\n}\n\n/* Style for the start button */\n#start-game-btn {\n    font-size: 1.5em;\n    padding: 15px 30px;\n    cursor: pointer;\n    /* Additional styles */\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 5px;\n}\n\n/* Hover effect for the button */\n#start-game-btn:hover {\n    background-color: #0056b3;\n}\n\n#start-screen h1 {\n    font-size: 150px;\n    color: #fff;\n    stroke: #000;\n    font-weight: 800;\n}\n\n/* Flexbox container for the entire game */\n.game-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\nheader {\n    width: 100%;\n    text-align: center;\n}\n\n.status-message-container {\n    display: flex;\n    justify-content: center;\n    align-items: center; /* Vertically centers the content */\n    min-height: 50px; /* Adjust based on the expected height of the status message */\n    width: 100%; /* Adjusts to 80% of the parent width */\n    min-width: 300px; /* Ensures the container doesn't shrink below 300px */\n    max-width: 600px; /* Limits the container's maximum width to 600px */\n    margin: 0 auto; /* Centers the container */\n     border: 2px solid white; /* White border */\n    border-radius: 8px; /* Optional: rounded corners for a softer look */\n   \n    box-shadow: 0 0 5px rgba(255, 255, 255, 0.2); /* Optional: subtle glow effect */\n}\n\n\n\n/* Status message styling */\n.status-message {\n    transition: opacity 0.3s ease; /* Smooth transition if opacity changes */\n    margin: 0;\n    padding: 10px 20px; /* Ensures good spacing */\n    font-size: 1.2rem;\n    font-weight: 400; /* Moderate weight for readability */\n    text-align: center;\n    color: white; /* White text */\n  \n}\n\n\n/* Center only the player grid initially */\n.grid-container {\n    display: flex;\n    justify-content: center;  /* Center the player grid */\n    width: 80vw;  /* Set width for the player grid */\n    max-width: 80vw;\n    min-width: 600px;\n    margin: 0 40px 50px;\n    position: relative;\n    padding: 0 20px;\n    /* [Addition] Ensure transitions apply when classes are added or removed */\n    transition: width .5s ease-in-out;\n}\n\n.grid-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    transition: transform 0.5s ease-in-out;\n}\n\n\n/* Show grid headers when game has started */\n.game-container.game-started .grid-section h2 {\n    display: block;\n}\n\n.grid-section h2 {\n    display: none;\n    opacity: 0;\n    margin-bottom: 10px;\n    font-size: 1.5rem;\n    color: #fff;\n    transition: opacity 0.5s ease;\n}\n\n.game-container.game-started .grid-section h2 {\n    display: block;\n    opacity: 1;\n}\n\n/* Styling for individual grids (player and computer) */\n.grid {\n    display: grid;\n    grid-template-columns: repeat(10, 50px);  /* 10 columns with 50px width each */\n    grid-template-rows: repeat(10, 50px);     /* 10 rows with 50px height each */\n    gap: 2px;\n    background-color: rgba(255, 255, 255, 0.2); /* Very faint background */\n    border: 2px solid #333;\n}\n\n/* Hide the computer grid and make sure it doesn't affect layout */\n#computer-grid {\n    opacity: 0;\n    width: 0;\n    height: 0;\n    overflow: hidden;\n    /* [Modification] Adjust transitions for width and height */\n  \n}\n\n/* .grid-container.slide-left.show-battle {\n    gap: 100px;\n} */\n/* When battle phase starts, show the computer grid */\n.grid-container.show-battle #player-grid,\n.grid-container.show-battle #computer-grid {\n    opacity: 1;\n    width: 100%;  /* Set the correct width for the grid */\n    height: auto;\n   \n}\n\n/* Slide effect for player grid */\n.grid-container.slide-left {\n    justify-content: space-around; \n    width: 100vw; /* Expand the container width for both grids */\n    /* transition: transform 2s ease-in-out, opacity 2s ease-in-out; */\n    gap: 50px;\n}\n\n.grid-container.slide-left .grid-section:first-child {\n    transform: translateX(-15%); /* Slide the player grid to the left */\n    transition: transform .5s ease-in-out, opacity .5s ease-in-out;\n}\n\n.grid-container.slide-left .grid-section:last-child {\n    transform: translateX(15%); /* Computer grid starts off-screen */\n    opacity: 1; /* Hide the computer grid initially */\n    transition: transform .5s ease-in-out, opacity .5s ease-in-out;\n}\n\n/* [Addition] Transition settings for reverse animation */\n.grid-container.slide-left, .grid-container {\n    transition: width 0.5s ease, opacity 0.5s ease justify-content 0.5 ease;\n}\n\n\n\n/* Grid cells */\n.grid div {\n    background-color: rgba(255, 255, 255, 0.1); \n    width: 50px;\n    height: 50px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border: 1px solid rgba(0, 0, 0, 0.1); \n}\n\n.grid div.highlight {\n    background-color: rgba(0, 128, 0, 0.5); \n}\n\n.grid div.placed-ship {\n    background-color: #1e90ff;  \n     border: 1px solid rgba(0, 0, 0, 0.3);; \n}\n\n.grid div:not(.hit):not(.miss):hover {\n    background-color: rgba(0, 0, 0, 0.1); \n    transition: background-color 0.3s ease;\n    border-color: #000;  \n}\n\n/* Player Grid */\n#player-grid,\n#computer-grid{\n    border:none\n}\n\n\n\n.axis-toggle {\n    margin: 10px 0;\n    text-align: center;\n}\n\n\n\n#toggle-axis-btn {\n    background-color: transparent; \n    color: white; \n    border: solid 1px #fff; \n    padding: 10px 15px; \n    font-size: 16px; \n    cursor: pointer;\n    border-radius: 5px;\n    transition: background-color 0.3s ease, color 0.3s ease;\n    box-shadow: 0 0 5px rgba(255, 255, 255, 0.3); \n\n    display: block;\n    margin: 0 auto;\n    position: relative;\n    text-align: center;\n    transition: transform 0.3s ease; \n}\n\n#toggle-axis-btn:hover {\n    background-color: rgba(255, 255, 255, 0.2); \n    color: #fff;\n    box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); \n    \n}\n\n\n\n#toggle-axis-btn::after {\n    content: " (R)"; \n    font-size: 0.8em; \n    color: #ccc; /* Light gray for subtlety */\n}\n\n.grid div.hit,\n.grid div.placed-ship.hit {\n    background-color: rgba(255, 0, 0, 0.9); /* Slightly transparent red */\n}\n\n.grid div.miss {\n    background-color: rgba(0, 0, 255, 0.7); /* Slightly transparent blue */\n}\n\n\n\n\n.restart-container {\n    position: relative;\n   padding-top: 20px;\n    margin: 20px auto;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n}\n\n#restart-btn {\n    position: absolute;\n    top: 50%; \n    left: 50%; \n    transform: translate(-50%, -50%); \n    display: none; \n    font-size: 1rem;\n    background-color: transparent; \n    border: solid 1px #fff; \n    padding: 10px 15px; \n    font-size: 16px; \n    cursor: pointer;\n    color: white;\n    border-radius: 5px;\n  \n}\n\n#restart-btn:hover {\n    background-color: #45a049; \n}\n\n\n\n/* [Addition] Smooth transition when hiding the computer grid */\n.grid-container:not(.show-battle) #computer-grid {\n    opacity: 0;\n    width: 0;\n    height: 0;\n    transition: opacity 0.5s ease, width 0.5s ease, height 0.5s ease;\n}\n\n/* Adjust grid cell size for smaller screens */\n@media (max-width: 1424px) {\n    .grid div {\n        width: 40px;\n        height: 40px;\n    }\n    .grid {\n        grid-template-columns: repeat(10, 40px);\n        grid-template-rows: repeat(10, 40px);\n    }\n}\n\n@media (max-width: 1100px) {\n    .grid div {\n        width: 30px;\n        height: 30px;\n    }\n    .grid {\n        grid-template-columns: repeat(10, 30px);\n        grid-template-rows: repeat(10, 30px);\n    }\n    header h1 {\n        margin-bottom: 0;\n    }\n    .restart-container {\n        margin: 0;\n    }\n    .grid-container.slide-left.show-battle {\n        gap: 20px;\n    }\n\n}\n\n@media (max-width: 935px) {\n    #start-screen h1 {\n        font-size: 100px;\n\n    }\n    .grid div {\n        width: 28px;\n        height: 28px;\n    }\n    .grid {\n        grid-template-columns: repeat(10, 28px);\n        grid-template-rows: repeat(10, 28px);\n    }\n    header h1 {\n        display: none;\n        margin-bottom: 0;\n    }\n    .restart-container {\n        margin: 0;\n        padding-top: 0;\n    }\n    .grid-container.slide-left.show-battle {\n        gap: 20px;\n        margin-bottom: 10px;\n    }\n    .status-message-container {\n       margin-top: 10px;\n       min-height: 15px;\n    }\n    .status-message {\n        padding:5px;\n    }\n    .grid-section h2 {\n        font-size: 1rem;\n        margin-bottom: 0;\n    }\n}\n/* Hide the game content when in portrait mode */\n@media only screen and (orientation: portrait) {\n    .game-container {\n      display: none;\n    }\n    .orientation-warning {\n      display: flex;\n    }\n  }\n  \n  /* Show the game content when in landscape mode */\n  @media only screen and (orientation: landscape) {\n    .game-container {\n      display: flex;\n    }\n    .orientation-warning {\n      display: none;\n    }\n  }\n  \n  /* Style the orientation warning */\n  .orientation-warning {\n    display: none; /* Hidden by default */\n    justify-content: center;\n    align-items: center;\n    height: 100vh; /* Full viewport height */\n    background-color: #000; /* Background color */\n    color: #fff; /* Text color */\n    text-align: center;\n    padding: 20px;\n    box-sizing: border-box;\n  }\n  `,""]);const h=d},314:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e="",r=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),r&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=n(t),r&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(n,e,r,o,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<n.length;l++){var u=[].concat(n[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),e&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=e):u[2]=e),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},417:n=>{n.exports=function(n,t){return t||(t={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),t.hash&&(n+=t.hash),/["'() \t\n]|(%20)/.test(n)||t.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var t=[];function e(n){for(var e=-1,r=0;r<t.length;r++)if(t[r].identifier===n){e=r;break}return e}function r(n,r){for(var i={},a=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=e(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(n,t){var e=t.domAPI(t);return e.update(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer)return;e.update(n=t)}else e.remove()}}n.exports=function(n,o){var i=r(n=n||[],o=o||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=e(i[a]);t[s].references--}for(var c=r(n,o),l=0;l<i.length;l++){var u=e(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},659:n=>{var t={};n.exports=function(n,e){var r=function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}t[n]=e}return t[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},540:n=>{n.exports=function(n){var t=document.createElement("style");return n.setAttributes(t,n.attributes),n.insert(t,n.options),t}},56:(n,t,e)=>{n.exports=function(n){var t=e.nc;t&&n.setAttribute("nonce",t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=n.insertStyleElement(n);return{update:function(e){!function(n,t,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var i=e.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,n,t.options)}(t,n,e)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)}}}},113:n=>{n.exports=function(n,t){if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},798:(n,t,e)=>{n.exports=e.p+"assets/1ca6cd0426dd066324bf.jpg"},97:(n,t,e)=>{n.exports=e.p+"assets/8b6e23a941fa2610470f.jpg"}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return n[r](i,i.exports,e),i.exports}e.m=n,e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(n=t.currentScript.src),!n)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!n||!/^http(s?):/.test(n));)n=r[o--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),e.b=document.baseURI||self.location.href,e.nc=void 0;var r=e(72),o=e.n(r),i=e(825),a=e.n(i),s=e(659),c=e.n(s),l=e(56),u=e.n(l),d=e(540),p=e.n(d),f=e(113),h=e.n(f),g=e(118),m={};function y(n,t){var e=0,r=[];return{name:n,length:t,hit:function(){e+=1},isSunk:function(){return e>=t},positions:r,setPositions:function(n){if(!Array.isArray(n))throw new Error("Positions must be an array of coordinates.");r=n},get hits(){return e}}}m.styleTagTransform=h(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=p(),o()(g.A,m),g.A&&g.A.locals&&g.A.locals;var v,b,x,k,w=function(n){n.innerHTML="";for(var t=0;t<100;t++){var e=document.createElement("div");e.classList.add("cell"),n.appendChild(e)}},S=function(n,t,e,r,o,i,a){if(e instanceof Set){if(a)for(var s=0;s<t.length;s++){var c=r+(i?0:s),l=o+(i?s:0),u=i?10*r+(o+s):10*(r+s)+o,d=n.children[u];d&&e.has("".concat(c,",").concat(l))?(d.classList.add("placed-ship"),d.dataset.shipName=t.name):d?console.warn("Cell index ".concat(u," is either already occupied or not part of a valid ship, skipping render.")):console.error("Cell index ".concat(u," is out of bounds or does not exist."))}}else console.error("Error: shipCells is not a Set. Received:",e)},A=function(n){n?Array.from(n.children).forEach((function(n){n.classList.remove("hit","miss","placed-ship")})):console.error("Grid element is undefined in clearGrid function.")},E=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=document.querySelector(".status-message");e?0===t?(e.textContent=n,e.style.display="block"):setTimeout((function(){e.textContent=n,e.style.display="block"}),t):console.error("Status message element not found.")},C=function(n,t,e,r,o){for(var i=0;i<r;i++){var a=o?10*t+e+i:10*(t+i)+e,s=n.children[a];s&&!s.classList.contains("placed-ship")?s.classList.add("highlight"):s&&console.warn("Skipped highlighting cell index ".concat(a," as it's already occupied by a ship."))}},L=function(n){Array.from(n.children).forEach((function(n){n.classList.remove("highlight")}))};function T(n){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},T(n)}function M(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function j(){var n=Array(10).fill(null).map((function(){return Array(10).fill(null)})),t=[],e=[],r=new Set,o=new Set;function i(t,e,r,i){for(var a=r.length,s=0;s<a;s++){var c=i?t:t+s,l=i?e+s:e;if(c<0||c>=10||l<0||l>=10)return!1;if(void 0===c||void 0===l||c<0||c>=10||l<0||l>=10)return!1;if(n[c][l])return!1}for(var u=0;u<a;u++){var d=i?t:t+u,p=i?e+u:e;n[d][p]=r,r.positions.push({x:d,y:p}),o.add("".concat(d,",").concat(p))}return!0}function a(t,r,o,a){if(!t||"number"!=typeof r||"number"!=typeof o||"boolean"!=typeof a)return!1;if(!i(r,o,t,a))return!1;t.positions=[];for(var s=0;s<t.length;s++){var c=a?r:r+s,l=a?o+s:o;if(!(c>=0&&c<10&&l>=0&&l<10))return!1;n[c][l]=t,t.positions.push({x:c,y:l})}return e.push(t),!0}return{placeShip:a,placeShipSafely:i,placeShipsForComputer:function(n){return[y("Destroyer",2),y("Submarine",3),y("Cruiser",3),y("Battleship",4),y("Carrier",5)].forEach((function(n){for(var t=!1,e=0;!t&&e<50;){var r=Math.random()<.5;t=a(n,Math.floor(Math.random()*(r?10:10-n.length)),Math.floor(Math.random()*(r?10-n.length:10)),r),e++}})),void e.forEach((function(n){}))},receiveAttack:function(e){var i,a,s=(a=2,function(n){if(Array.isArray(n))return n}(i=e)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(n){l=!0,o=n}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(i,a)||function(n,t){if(n){if("string"==typeof n)return M(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?M(n,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],l=s[1];if(console.log("Attacking cell: (".concat(c,", ").concat(l,")")),console.log("Ship cells:",o),"number"!=typeof c||"number"!=typeof l||c<0||c>=10||l<0||l>=10)return console.error("Invalid attack coordinates: (".concat(c,", ").concat(l,")")),{result:"error",coordinates:[c,l]};var u="".concat(c,",").concat(l);if(r.has(u))return console.log("Cell (".concat(c,", ").concat(l,") was already attacked.")),{result:"already_attacked",coordinates:[c,l]};r.add(u);var d=n[c][l];return null===d?(t.push([c,l]),console.log("Missed at (".concat(c,", ").concat(l,")")),{result:"miss",coordinates:[c,l]}):"object"===T(d)&&"function"==typeof d.hit?(console.log("Hitting ship: ".concat(d.name," at (").concat(c,", ").concat(l,")")),d.hit(),console.log("Ship ".concat(d.name," hit! Current hits after attack: ").concat(d.hits)),d.isSunk()?(console.log("Sunk a ship at (".concat(c,", ").concat(l,")")),{result:"sunk",coordinates:[c,l],ship:d}):(console.log("Hit at (".concat(c,", ").concat(l,")")),{result:"hit",coordinates:[c,l],ship:d})):(console.error("Error: Invalid target at (".concat(c,", ").concat(l,")")),{result:"error",coordinates:[c,l]})},attackCell:function(e,r){var o=n[e][r];return null===o?(console.log("Miss"),t.push([e,r]),{result:"miss",coordinates:[e,r]}):"object"===T(o)&&"function"==typeof o.hit?(o.hit(),console.log("Hit"),o.isSunk()?(console.log("Ship has been sunk!"),{result:"sunk",coordinates:[e,r]}):{result:"hit",coordinates:[e,r]}):(console.error("Invalid hit detection"),{result:"error",coordinates:[e,r]})},allShipsSunk:function(){return e.forEach((function(n){})),0!==e.length&&e.every((function(n){return n.isSunk()}))},alreadyAttacked:function(n,t){return r.has("".concat(n,",").concat(t))},reset:function(){n=Array(10).fill(null).map((function(){return Array(10).fill(null)})),t=[],e=[],r.clear(),o.clear()},get missedShots(){return t},get board(){return n},get attackedCells(){return r},get ships(){return e},get shipCells(){return o}}}function I(n){return function(n){if(Array.isArray(n))return B(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||z(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(n){l=!0,o=n}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,t)||z(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(n,t){if(n){if("string"==typeof n)return B(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?B(n,t):void 0}}function B(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function O(){var n=new Set,t=[];function e(){var t;do{t=[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}while(n.has(t.toString()));return t}function r(n){var e={hits:[n],unsunkHits:[n],potentialTargets:o(n[0],n[1]),attackAxis:null,direction:null,reversed:!1,triedAxes:new Set};return t.push(e),e}function o(t,e){return[[t-1,e],[t+1,e],[t,e-1],[t,e+1]].filter((function(t){var e=H(t,2),r=e[0],o=e[1];return r>=0&&r<10&&o>=0&&o<10&&!n.has("".concat(r,",").concat(o))}))}function i(t){t.hits;var e=t.attackAxis,r=t.direction,o=[],i=t.unsunkHits&&t.unsunkHits.length>0?t.unsunkHits:t.hits;if(!i||0===i.length)return[];var a=i.map((function(n){return n[0]})),s=i.map((function(n){return n[1]})),c=Math.min.apply(Math,I(a)),l=Math.max.apply(Math,I(a)),u=Math.min.apply(Math,I(s)),d=Math.max.apply(Math,I(s));if("horizontal"===e){var p="positive"===r?d+1:u-1;p>=0&&p<10&&!n.has("".concat(c,",").concat(p))&&o.push([c,p])}else if("vertical"===e){var f="positive"===r?l+1:c-1;f>=0&&f<10&&!n.has("".concat(f,",").concat(u))&&o.push([f,u])}return o}function a(n){if(n.length<2)return null;var t=H(n,2),e=t[0],r=t[1];return e[0]===r[0]?"horizontal":e[1]===r[1]?"vertical":null}return{attack:function(n,t){return n.receiveAttack(t)},randomAttack:e,computerAttack:function(s){var c,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=t[0];if(l)c=l;else if(u){for(;;){if(0===u.potentialTargets.length)if(u.reversed){if(u.triedAxes.add(u.attackAxis),!(u.unsunkHits.length>0)){t=t.filter((function(n){return n!==u})),u=null,c=e();break}var d="horizontal"===u.attackAxis?"vertical":"horizontal";if(u.triedAxes.has(d)){t=t.filter((function(n){return n!==u})),u=null,c=e();break}u.attackAxis=d,u.direction="positive",u.reversed=!1,u.potentialTargets=[],u.unsunkHits.forEach((function(n){var t,e=i({hits:[n],attackAxis:u.attackAxis,direction:u.direction});(t=u.potentialTargets).push.apply(t,I(e))}))}else u.direction="positive"===u.direction?"negative":"positive",u.reversed=!0,u.potentialTargets=i(u);if(u&&u.potentialTargets.length>0){if(c=u.potentialTargets.shift(),!n.has("".concat(c[0],",").concat(c[1])))break}else if(!u)break}c||(c=e())}else c=e();var p=s.receiveAttack(c);return n.add("".concat(c[0],",").concat(c[1])),"hit"!==p.result&&"sunk"!==p.result||(u?(u.hits.push(c),u.unsunkHits.push(c)):u=r(c),null===u.attackAxis?(u.attackAxis=a(u.hits),u.attackAxis?(u.direction="positive",u.reversed=!1,u.triedAxes.add(u.attackAxis),u.potentialTargets=i(u)):u.potentialTargets=o(c[0],c[1])):u.potentialTargets=i(u),"sunk"===p.result&&(u.unsunkHits=u.unsunkHits.filter((function(n){return!p.ship.positions.some((function(t){return t.x===n[0]&&t.y===n[1]}))})),u.hits=u.hits.filter((function(n){return!p.ship.positions.some((function(t){return t.x===n[0]&&t.y===n[1]}))})),0===u.unsunkHits.length?(t=t.filter((function(n){return n!==u})),u=null):u.potentialTargets=i(u))),{coords:c,result:p.result,ship:p.ship||null}},determineAttackAxis:a,handleFirstHit:r,getAdjacentCells:o,reset:function(){n.clear(),t=[]}}}function P(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}var R,G,U,F=null,$="Player",N=null,_=j(),q=j(),D=O(),V=O();document.addEventListener("DOMContentLoaded",(function(){v=document.getElementById("player-grid"),b=document.getElementById("computer-grid"),x=document.querySelector(".status-message"),(k=document.getElementById("toggle-axis-btn")).addEventListener("click",K),w(v,_.board),w(b,q.board),Q(v,_),document.getElementById("start-game-btn").addEventListener("click",(function(){document.getElementById("start-screen").style.display="none",document.getElementById("game-container").style.display="block",ln()}))}));var W=0,X=!1,Y=[{name:"Destroyer",length:2},{name:"Submarine",length:3},{name:"Cruiser",length:3},{name:"Battleship",length:4},{name:"Carrier",length:5}],J=!0;function Q(n,t){R=function(e){if(!X){var r=e.target,o=Array.from(n.children).indexOf(r);if(-1!==o){L(n);var i=Math.floor(o/10),a=o%10;if(!(i<0||i>=10||a<0||a>=10)){var s=y(Y[W].name,Y[W].length);t.placeShipSafely(i,a,s.length,J)&&C(n,i,a,s.length,J)}}}},G=function(e){if(!X){L(n);var r=e.target,o=Array.from(n.children).indexOf(r),i=Math.floor(o/10),a=o%10,s=y(Y[W].name,Y[W].length);if(t.placeShipSafely(i,a,s,J)){var c=t.shipCells;S(n,s,c,i,a,J,!0),t.ships.push(s),++W>=Y.length?(X=!0,x.textContent="All ships placed. Battle begins!",nn()):x.textContent="Place your ".concat(Y[W].name," (").concat(Y[W].length," spaces)"),n.removeEventListener("mouseover",R),n.addEventListener("mousemove",(function(){n.addEventListener("mouseover",R)}),{once:!0})}else console.log("Failed to place ship due to overlap or invalid position")}},U=function(n){"r"===n.key&&K()},n.addEventListener("click",G),n.addEventListener("mouseover",R),document.addEventListener("keydown",U)}function K(){J=!J,x.innerHTML="Placing ".concat(Y[W].name," (").concat(Y[W].length," spaces). Currently ").concat(J?"Horizontal":"Vertical"),L(v)}var Z=document.getElementById("toggle-axis-btn");function nn(){Z.style.display="none",document.querySelector(".grid-container").classList.add("slide-left","show-battle"),b.style.visibility="visible",document.getElementById("game-container").classList.add("game-started"),E("Computer is placing ships..."),L(b),q.placeShipsForComputer();var n=q.shipCells;_.shipCells,q.ships.forEach((function(t){t.positions.forEach((function(e){var r=e.x,o=e.y;S(b,t,n,r,o,t.isHorizontal,!1)}))})),E("Attack the enemy ships!",2e3),F&&b.removeEventListener("click",F),F=function(n){var t=n.target;if(!t.classList.contains("hit")&&!t.classList.contains("miss")){var e=Array.from(b.children).indexOf(t),r=Math.floor(e/10),o=e%10,i=D.attack(q,[r,o]);"hit"===i.result||"sunk"===i.result?t.classList.add("hit"):"miss"===i.result&&t.classList.add("miss"),cn(i,r,o,"player"),q.allShipsSunk()?(E("You win! All enemy ships are sunk!",2e3),tn()):setTimeout((function(){E("Computer's turn..."),function(){var n=V.computerAttack(_),t=n.coords,e=(n.result,n.ship,function(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(r=i.call(e)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(n){l=!0,o=n}finally{try{if(!c&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(n,t)||function(n,t){if(n){if("string"==typeof n)return P(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?P(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2));cn(n,e[0],e[1],"computer"),_.allShipsSunk()?(E("Computer wins! All your ships are sunk.",2e3),tn("computer")):N=setTimeout((function(){E("".concat($,"'s turn!"))}),2e3)}()}),1500)}},b.addEventListener("click",F)}function tn(n){"player"===n?E("Congratulations ".concat($,"! You win! All enemy ships are sunk.")):"computer"===n&&E("Game Over. The computer has sunk all your ships!"),b.style.pointerEvents="none",F&&(b.removeEventListener("click",F),F=null),document.getElementById("restart-btn").style.display="block"}var en=document.getElementById("restart-btn");en.addEventListener("click",(function(){en.style.display="none",ln()}));var rn=document.getElementById("start-screen"),on=document.getElementById("game-container"),an=document.getElementById("start-game-btn"),sn=document.getElementById("player-name-input");function cn(n,t,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"computer",o=n.result,i=n.ship;if("already_attacked"!==o){var a=("computer"===r?v:b).children[10*t+e];setTimeout((function(){if("computer"===r)"hit"===o||"sunk"===o?(a.classList.add("hit"),E("Computer ".concat("sunk"===o?"sank your ".concat(i.name,"!"):"hit your ship!"),900)):"miss"===o&&(a.classList.add("miss"),E("Computer missed!",900));else if("sunk"===o){var n=i?i.name:"a ship";E("".concat($," sank the enemy's ").concat(n,"!"))}else"hit"===o?E("".concat($," hit a ship!"),900):"miss"===o&&E("".concat($," missed!"),900)}),200)}else console.warn("Attempted attack on already attacked cell.")}function ln(){N&&(clearTimeout(N),N=null),G&&(v.removeEventListener("click",G),G=null),R&&(v.removeEventListener("mouseover",R),R=null),U&&(document.removeEventListener("keydown",U),U=null),F&&(b.removeEventListener("click",F),F=null),v&&b?(_.reset(),q.reset(),V.reset(),A(v),A(b),document.querySelector(".grid-container").classList.remove("slide-left","show-battle"),document.getElementById("game-container").classList.remove("game-started"),b.style.visibility="hidden",v.style.visibility="visible",k.style.display="block",en.style.display="none",W=0,X=!1,J=!0,E("Hi ".concat($,"! Shall we play a game?"),0),setTimeout((function(){E("Place your ships to begin the game.")}),2e3),setTimeout((function(){W<Y.length&&E("".concat($,", place your ").concat(Y[W].name," (").concat(Y[W].length," spaces)"))}),4e3),b.style.pointerEvents="auto",v.style.pointerEvents="auto",Q(v,_)):console.error("Grid elements are not initialized properly. Aborting startGame.")}an.addEventListener("click",(function(){var n=sn.value.trim();$=""!==n?n:"Player",rn.style.display="none",on.style.display="block",ln()})),{startGame:ln}.startGame()})();